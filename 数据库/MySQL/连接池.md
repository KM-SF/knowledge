## 问题

1. 每次向数据库建立连接的时候都要将connection加载到内存，再验证IP，用户名和密码（需要花费一定时间）。需要数据库连接的时候，就向数据库要求一个，执行完后再断开。这样的方式将会浪费大量的资源和时间。数据库连接资源并没有很好的重复利用。频繁的进行数据库连接和关闭操作会占用很多系统资源，严重会造成服务器崩溃
2. 对于每一次数据库连接，使用完后都得断开。否则，如果程序出现异常未能关闭，将会导致数据库系统中内存泄漏，最终将导致数据库重启
3. 这种开发不能控制被创建的连接对象数，系统资源会被毫无顾忌的分配出去，如连接过渡，也可能会导致内存泄漏，服务器崩溃

## 解决思路

+ 为了解决传统开发中数据库连接问题，可以采用数据库连接池技术
+ 基本思想是：为数据库连接一个**缓冲池**。预先在缓冲池中存放一定数量的连接，当需要建立数据库连接时，只需要从缓冲池中取出一个，使用完再放回去。

## 功能

+ 数据库连接池负责分配，管理和释放数据库连接
+ 他允许应用程序重复使用一个现有的数据库连接，而不是重新建立一个
+ 连接池的**最大数据库连接数量**限定了这个连接池能占用最大的连接数量，当应用程序向连接池请求的连接数量超过最大连接数时，这些请求将会被加入到等待队列

## 组成

+ 等待队列：保存需要获取数据库连接的请求
+ 连接池（链表或者其他数据结构）：保存当前已经创建好的数据库连接

## 过程

1. 数据库连接池初始化
2. 

## 优点

+ 资源重用：由于数据库连接得以重用，避免了频繁创建和释放连接引起的大量性能开销，在减少系统消耗的基础上，另一个方面也增加了系统运行环境的平稳性
+ 更快反应：数据库连接池在初始化过程中，已经创建好了若干个数据库连接置于连接池中备用。此时连接的初始化工作已经完成。对于业务请求处理而言，直接利用现有可用的连接，避免了创建和释放过程中的时间消耗，从而减小相应时间
+ 新的资源分配手段：对于多应用共享同一数据库系统而言，可在应用通过数据库连接池的配置，实现某一应用最大可用数据库连接数的限制，避免了某一应用独占所有数据库资源
+ 统一管理：在较为完善的数据库连接池中，可根据预先的占用超时设定，强制回收被占用连接，从而避免了常规数据库连接操作中可能出现的资源泄漏。

